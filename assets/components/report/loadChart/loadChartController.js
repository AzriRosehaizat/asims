application.controller('loadChartController', function($scope, reportService) {
    var docDefinition = {
        info: {
            title: 'Faculty Load Chart',
            author: 'Auto-generated by Application',
            subject: 'Faculty Load Chart',
        },
        content: [{
            text: 'FACULTY LOAD CHART',
            style: 'header'
        }, {
            text: 'Name: Nasim Slater',
            style: 'section'
        }, {
            text: 'Department: BioChemistry',
            style: 'section'
        }, {
            text: 'Rank: Instructor II',
            style: 'section'
        }, {
            style: 'table',
            table: {
                body: [
                    ['Year', 'Normal Load', 'Reduced Load', 'Actual Teaching Load', 'Owed FECs', 'Banked FECs'],
                    ['2015-2016', '3.5', '2.5', 'CHEM-1111-001 (FW)', '', ''],
                    ['', '', '', 'CHEM-2102-001 (F)', '', ''],
                    ['', '', '', 'CHEM-2103-050 (W)', '', ''],
                    ['', '', '', 'BIO-1103-050 (W)', '', ''],
                    ['', '', '', 'BIO-2001-001 (S)', '', ''],
                    ['2016-2017', '3.5', '3.5', 'CHEM-1111-001  (FW)', '1.0', ''],
                    ['', '', '', 'CHEM-2102-001 (F)', '', ''],
                    ['', '', '', 'CHEM-2103-050 (W)', '', ''],
                    ['', '', '', 'BIO-1106-002 (F)', '', '']
                ]
            }
        }, {
            text: "Overload Teaching ",
            style: "tableHeader"
        }, {
            style: 'table',
            table: {
                body: [
                    ['Year', 'Term', 'FCEs', 'Course Section', 'Amount Paid'],
                    ['2015-2016', 'Spring 2016', '0.5', 'BIO-2001-001', '$1000']
                ]
            }
        }, {
            text: "Load Reductions ",
            style: "tableHeader"
        }, {
            style: 'table',
            table: {
                body: [
                    ['Year', 'Approved?', 'Date', 'Reason', 'Reduction In FECs'],
                    ['2015-2016', 'Yes', 'August 31, 2015', 'NSERC(2015-2020)', '1.0']
                ]
            }
        }, {
            style: 'table',
            table: {
                body: [
                    ["Faculty Member's Signature __________________", "Chair's Signature _____________________"],
                    [{
                        table: {
                            widths: [200, 50],
                            body: [
                                ['This chart is accurate', ''],
                                ['Changes have been indicated', '']
                            ]
                        }
                    }, {
                        table: {
                            widths: [200, 50],
                            body: [
                                ['This chart is accurate', ''],
                                ['Changes have been indicated', '']
                            ]
                        }
                    }]
                ]
            },
            layout: 'noBorders',
            pageBreak: 'after'
        },
        { 
            text: 'FACULTY LOAD CHART', 
            style: 'header' 
        },
        {
            text: 'Name: Macy Davidson',
            style: 'section'
        },
        {
            text: 'Department: BioChemistry',
            style: 'section'
        },
        {
            text: 'Rank: Associate Professor',
            style: 'section'
        },
        {
            style: 'table',
            table: {
                    body: [
                            ['Year', 'Normal Load', 'Reduced Load','Actual Teaching Load', 'Owed FECs', 'Banked FECs'],
                            ['2015-2016', '2.5', '1.5', 'CHEM-1111-002 (FW)', '', '0.5'],
                            ['', '', '', 'CHEM-3404-001 (F)', '', ''],
                            ['', '', '', 'BIO-1103-001 (S)', '', ''],
                            ['2016-2017', '2.5', '1.5', 'BIO-1111-001  (W)', '', '0.5'],
                            ['', '', '', 'CHEM-4104-001 (W)', '', ''],
                            ['', '', '', 'BIO-3154-002 (W)', '', '']
                    ]
            }
        },
        {
            text: "Overload Teaching ",
            style: "tableHeader"
        },
        {
            style: 'table',
            table: {
                    body: [
                            ['Year', 'Term', 'FCEs','Course Section', 'Amount Paid']
                    ]
            }
        },
        {
            text: "Load Reductions ",
            style: "tableHeader"
        },
        {
            style: 'table',
            table: {
                    body: [
                            ['Year', 'Approved?', 'Date','Reason', 'Reduction In FECs'],
                            ['2015-2016', 'Yes', 'August 31, 2015', 'NSERC(2015-2020)', '1.0'],
                            ['2016-2017', 'Yes', 'August 31, 2015', 'NSERC(2015-2020)', '1.0']
                    ]
            }
        },
        {
            style: 'table',
            table: {
                body: [
                        ["Faculty Member's Signature __________________", "Chair's Signature _____________________"],
                        [
                            {
                                table: {
                                    widths: [200,50],
                                    body: [
                                        ['This chart is accurate', ''],
                                        ['Changes have been indicated', '']
                                    ]
                                  }
                          }, {table: {
                              widths: [200,50],
                              body: [
                                  ['This chart is accurate', ''],
                                  ['Changes have been indicated', '']
                              ]
                          }
                      }] 
                    ]
            },
            layout: 'noBorders',
            text: {pageBreak: 'after'},
        }, ],
        styles: {
            header: {
                fontSize: 18,
                bold: true,
                alignment: "center"
            },
            section: {
                fontSize: 15,
                bold: true,
                margin: [0, 5, 0, 5]
            },
            table: {
                alignment: "center",
                margin: [0, 5, 0, 15]
            },
            tableHeader: {
                bold: true,
                fontSize: 13,
                color: 'black'
            }
        }
    };

    //     docDefinition.content.push(
    //         { 
    // 			text: 'FACULTY LOAD CHART', 
    // 			style: 'header' 
    // 		},
    //         //reportService.getStaffInfo(info),
    //         //reportService.setTableHead(load),
    //         {
    // 		    text: "Overload Teaching ",
    // 		    style: "tableHeader"
    // 		},
    // 		//reportService.setTableHead(load),
    // 		{
    // 		    text: "Load Reductions ",
    // 		    style: "tableHeader"
    // 		},
    // 		//reportService.setTableHead(load),
    //         reportService.setFooter()
    //     )

    $scope.openPdf = function() {
        pdfMake.createPdf(docDefinition).open();
    };

    $scope.downloadPdf = function() {
        pdfMake.createPdf(docDefinition).download();
    };
})